{% extends "blog/base.html" %}
{% load static %}

{% block content %}
<!-- Hero Section -->
<div style="background: linear-gradient(to bottom right, black, #111827, #7f1d1d); color: white;">
  <div style="max-width: 72rem; margin: 0 auto; padding: 4rem 1rem; text-align: center;">
    <div style="display: inline-flex; align-items: center; justify-content: center; width: 4rem; height: 4rem; background: #dc2626; border-radius: 9999px; margin-bottom: 1.5rem;">
      <span style="font-size: 1.5rem;">🎙</span>
    </div>
    <h1 style="font-size: 3rem; font-weight: bold; margin-bottom: 1.5rem; background: linear-gradient(to right, white, #fecaca); -webkit-background-clip: text; color: transparent;">
      The Byline X Legends & Lads
    </h1>
    <p style="font-size: 1.25rem; color: #d1d5db; max-width: 48rem; margin: 0 auto 2rem; line-height: 1.75;">
      Exclusive conversations with cricket legends, industry insights, and untold stories from the world of sports broadcasting
    </p>
    <div style="display: flex; justify-content: center; gap: 2rem; color: #9ca3af; flex-wrap: wrap;">
      <div style="display: flex; align-items: center;">
        <div style="width: .5rem; height: .5rem; background: #ef4444; border-radius: 9999px; margin-right: .5rem;"></div>
        <span>Weekly Episodes</span>
      </div>
      <div style="display: flex; align-items: center;">
        <div style="width: .5rem; height: .5rem; background: #ef4444; border-radius: 9999px; margin-right: .5rem;"></div>
        <span>In-Depth Interviews</span>
      </div>
      <div style="display: flex; align-items: center;">
        <div style="width: .5rem; height: .5rem; background: #ef4444; border-radius: 9999px; margin-right: .5rem;"></div>
        <span>Behind the Scenes</span>
      </div>
    </div>
  </div>
</div>

<!-- Episodes Section -->
<div style="background: linear-gradient(to bottom, #f9fafb, white); min-height: 100vh;">
  <div style="max-width: 72rem; margin: 0 auto; padding: 4rem 1rem;">
    
    <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap;">
      <div style="text-align: center; margin-bottom: 4rem; flex: 1;">
        <h2 style="font-size: 2rem; font-weight: bold; color: #111827; margin-bottom: 1rem;">
          {% if search_query %}Search Results{% else %}Latest Episodes{% endif %}
        </h2>
        <div style="width: 100%; height: .25rem; background: linear-gradient(to right, #dc2626, #f87171); border-radius: .5rem;"></div>
      </div>
      
      <!-- Search Form -->
      <div style="margin-bottom: 3rem; flex: 1; text-align: right;">
        <form method="get" style="max-width: 24rem; margin-left: auto;">
          <div style="position: relative;">
            <input type="text" name="q" value="{{ search_query|default:'' }}" placeholder="Search episodes..."
              style="width: 100%; padding: .75rem 3rem .75rem 3rem; color: #111827; background: white; border: 1px solid #d1d5db; border-radius: .75rem; box-shadow: 0 1px 2px rgba(0,0,0,.05);">
            <div style="position: absolute; top: 50%; left: .75rem; transform: translateY(-50%); color: #9ca3af;">
              🔍
            </div>
          </div>
        </form>
      </div>
    </div>

    <div style="display: grid; gap: 3rem;">
      {% for episode in episodes %}
      <article style="background: white; border-radius: 1rem; box-shadow: 0 4px 6px rgba(0,0,0,.1); overflow: hidden; border: 1px solid #f3f4f6;">
        <div style="display: flex; flex-direction: column; gap: 1rem; padding: 2rem;">
          <!-- Episode Image -->
          <div style="flex-shrink: 0; margin-bottom: 1rem;">
            <img src="{{ episode.cover_image.url }}" alt="{{ episode.title }}" style="width: 100%; max-height: 16rem; object-fit: contain;">
          </div>

          <!-- Episode Content -->
          <div style="flex: 1;">
            <h2 style="font-size: 1.5rem; font-weight: bold; color: #111827; margin-bottom: 1rem;">
              <a href="{% url 'podcast_detail' episode.slug %}" style="color: inherit; text-decoration: underline; text-decoration-color: #dc2626; text-decoration-thickness: 2px; text-underline-offset: 4px;">
                {{ episode.title|safe }}
              </a>
            </h2>

            <p>{{ episode.description|truncatewords:35|safe }}</p>

            <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 1.5rem;">
              <a href="{% url 'podcast_detail' episode.slug %}"
                style="display: inline-flex; align-items: center; padding: .75rem 1.5rem; background: linear-gradient(to right, #dc2626, #b91c1c); color: white; font-weight: 600; border-radius: .5rem; text-decoration: none; box-shadow: 0 4px 6px rgba(0,0,0,.1);">
                Listen & Read →
              </a>
              <div style="display: flex; gap: 1rem; color: #6b7280; font-size: .875rem;">
                <span>🎧 Audio</span>
                <span>🎥 Video</span>
                <span>📝 Transcript</span>
              </div>
            </div>
          </div>
        </div>
      </article>
      {% empty %}
      <div style="text-align: center; padding: 4rem 1rem;">
        <div style="width: 6rem; height: 6rem; background: #f3f4f6; border-radius: 9999px; display: flex; align-items: center; justify-content: center; margin: 0 auto 1.5rem;">
          <span style="font-size: 2rem; color: #9ca3af;">🔒</span>
        </div>
        <h3 style="font-size: 1.25rem; font-weight: 600; color: #111827; margin-bottom: .5rem;">No Episodes Yet</h3>
        <p style="color: #4b5563;">Stay tuned for exciting conversations and exclusive interviews!</p>
      </div>
      {% endfor %}
    </div>
  </div>
</div>
{% endblock %}
