{% extends "blog/base.html" %}
{% load static %}

{% block content %}
<!-- Hero Section -->
<div style="background: linear-gradient(to bottom right, black, #111827, #7f1d1d); color: white;">
  <div style="max-width: 72rem; margin: 0 auto; padding: 4rem 1rem;">
    <div style="text-align: center;">
      <div style="display:inline-flex; align-items:center; justify-content:center; width:4rem; height:4rem; background:#dc2626; border-radius:9999px; margin-bottom:1.5rem;">
        <span style="font-size:2rem;">ðŸŽ™</span>
      </div>
      <h1 style="font-size:2.5rem; font-weight:700; margin-bottom:1.5rem; background: linear-gradient(to right, white, #fecaca); -webkit-background-clip: text; color: transparent;">
        The Byline X Legends &amp; Lads
      </h1>
      <p style="font-size:1.25rem; color:#d1d5db; max-width:48rem; margin:0 auto 2rem; line-height:1.75rem;">
        Exclusive conversations with cricket legends, industry insights, and untold stories from the world of sports broadcasting
      </p>
<!--       <div style="display:flex; align-items:center; justify-content:center; gap:2rem; color:#9ca3af;">
        <div style="display:flex; align-items:center;">
          <div style="width:0.5rem; height:0.5rem; background:#ef4444; border-radius:9999px; margin-right:0.5rem;"></div>
          <span>Weekly Episodes</span>
        </div>
        <div style="display:flex; align-items:center;">
          <div style="width:0.5rem; height:0.5rem; background:#ef4444; border-radius:9999px; margin-right:0.5rem;"></div>
          <span>In-Depth Interviews</span>
        </div>
        <div style="display:flex; align-items:center;">
          <div style="width:0.5rem; height:0.5rem; background:#ef4444; border-radius:9999px; margin-right:0.5rem;"></div>
          <span>Behind the Scenes</span>
        </div>
      </div> -->
    </div>
  </div>
</div>

<!-- Episodes Section -->
<div style="background: linear-gradient(to bottom, #f9fafb, white); min-height:100vh;">
  <div style="max-width:72rem; margin:0 auto; padding:4rem 1rem;">
    <div style="display:flex; justify-content:space-between; align-items:center;">
      <div style="text-align:center; margin-bottom:4rem;">
        <h2 style="font-size:2rem; font-weight:700; color:#111827; margin-bottom:1rem;">
          {% if search_query %}
          Search Results
          {% else %}
          Latest Episodes
          {% endif %}
        </h2>
        <div style="width:100%; height:0.25rem; background:linear-gradient(to right, #dc2626, #f87171); border-radius:9999px;"></div>
      </div>
      <!-- Search Form -->
      <div style="margin-bottom:3rem;" class="hidden md:block">
  <form method="get" style="max-width:24rem; margin:0 auto;">
    <div style="position:relative;">
      <input
        type="text"
        name="q"
        value="{{ search_query|default:'' }}"
        placeholder="Search"
        style="
          width:100%;
          padding:0.5rem 2.5rem 0.5rem 2.5rem;
          color:#111827;
          background:white;
          border:1px solid #d1d5db;
          border-radius:9999px; /* fully rounded */
          outline:none;
          box-shadow:0 1px 2px rgba(0,0,0,0.05);
          font-size:1rem;
          "
      >
      <div style="
        position:absolute;
        inset:0;
        left:0;
        display:flex;
        align-items:center;
        padding-left:0.75rem;
        pointer-events:none;
      ">
        <svg style="width:1.25rem; height:1.25rem; color:#9ca3af;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
        </svg>
      </div>
    </div>
  </form>
</div>

    </div>

    <div style="display:grid; gap:3rem;">
      {% for episode in episodes %}
      <article style="background:white; border-radius:1rem; border:1px solid #f3f4f6; box-shadow:0 4px 6px rgba(0,0,0,0.05); overflow:hidden; transition:all 0.3s ease;">
        <div style="display:flex; flex-direction:row;">
          <!-- Episode Image -->
          <div style="width:24rem; flex-shrink:0; overflow:hidden; position:relative;">
            <img src="{{ episode.cover_image.url }}" alt="{{ episode.title }}"
              style="width:100%; height:16rem; object-fit:contain; transition:transform 0.7s;">
          </div>

          <!-- Episode Content -->
          <div style="flex:1; padding:2rem;">
            <h2 style="font-size:1.5rem; font-weight:700; color:#111827; margin-bottom:1rem;">
              <a href="{% url 'podcast_detail' episode.slug %}" style="color:inherit; text-decoration:none;">
                {{ episode.title|safe }}
              </a>
            </h2>
            <div style="color:#374151; line-height:1.5;">
              {{ episode.description|truncatewords:35|safe }}
            </div>

            <div style="display:flex; align-items:center; justify-content:space-between; margin-top:1.5rem;">
              <a href="{% url 'podcast_detail' episode.slug %}"
                style="display:inline-flex; align-items:center; padding:0.75rem 1.5rem; background:linear-gradient(to right,#dc2626,#b91c1c); color:white; font-weight:600; border-radius:0.5rem; text-decoration:none; box-shadow:0 4px 6px rgba(0,0,0,0.1); transition:all 0.3s;">
                <span>Listen &amp; Read</span>
                <svg style="width:1.25rem; height:1.25rem; margin-left:0.5rem;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                </svg>
              </a>

              <div style="display:flex; gap:1rem; color:#6b7280; font-size:0.875rem;">
                <div style="display:flex; align-items:center;">
                  <svg style="width:1rem; height:1rem; margin-right:0.25rem;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 14.142M9 9a3 3 0 000 6v-6a3 3 0 000-6zm0 0V7a2 2 0 012-2h4a2 2 0 012 2v2M9 9a3 3 0 000 6v-6a3 3 0 000-6z">
                    </path>
                  </svg>
                  Audio
                </div>
                <div style="display:flex; align-items:center;">
                  <svg style="width:1rem; height:1rem; margin-right:0.25rem;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z">
                    </path>
                  </svg>
                  Video
                </div>
                <div style="display:flex; align-items:center;">
                  <svg style="width:1rem; height:1rem; margin-right:0.25rem;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z">
                    </path>
                  </svg>
                  Transcript
                </div>
              </div>
            </div>
          </div>
        </div>
      </article>
      {% empty %}
      <div style="text-align:center; padding:4rem 0;">
        <div style="width:6rem; height:6rem; background:#f3f4f6; border-radius:9999px; display:flex; align-items:center; justify-content:center; margin:0 auto 1.5rem;">
          <svg style="width:3rem; height:3rem; color:#9ca3af;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z">
            </path>
          </svg>
        </div>
        <h3 style="font-size:1.25rem; font-weight:600; color:#111827; margin-bottom:0.5rem;">No Episodes Yet</h3>
        <p style="color:#4b5563;">Stay tuned for exciting conversations and exclusive interviews!</p>
      </div>
      {% endfor %}
    </div>
  </div>
</div>
{% endblock %}
